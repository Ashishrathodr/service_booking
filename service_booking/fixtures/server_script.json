[
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2025-07-31 23:19:36.291521",
  "module": "Service Booking",
  "name": "Service Booking Mail",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Service Booking",
  "script": "if doc.status == \"Approved\":\n    if doc.customer_email:\n        if frappe.db.exists(\"Email Account\",{\"default_outgoing\":1}):\n            email_template = frappe.get_doc(\"Email Template\", \"Booking Approved Template\")\n            context = doc.as_dict()\n            subject = frappe.render_template(email_template.subject, context)\n            message = frappe.render_template(email_template.response_html, context)\n            frappe.sendmail(\n                recipients=\"bhandarigreecy@gmail.com\",\n                subject=subject,\n                message=message,\n            )\n        else:\n            frappe.msgprint(f\"Default Email Account Not Set\")\n    else:\n        frappe.msgprint(f\"No contact email found for customer {doc.customer}\")\n",
  "script_type": "DocType Event"
 }
]